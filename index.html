<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Stay health, not be fat">
<meta property="og:type" content="website">
<meta property="og:title" content="JWCESIGN">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="JWCESIGN">
<meta property="og:description" content="Stay health, not be fat">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jiang Wei">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>JWCESIGN</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">JWCESIGN</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Keep Going</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/07/2020-11-07-PWNCTF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/07/2020-11-07-PWNCTF/" class="post-title-link" itemprop="url">PWN CTF练习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-07 12:00:00" itemprop="dateCreated datePublished" datetime="2020-11-07T12:00:00+08:00">2020-11-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:48:41" itemprop="dateModified" datetime="2020-11-08T11:48:41+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ctf/" itemprop="url" rel="index"><span itemprop="name">ctf</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“PWN CTF练习”</p>
</blockquote>
<h1 id="练习网站"><a href="#练习网站" class="headerlink" title="练习网站"></a>练习网站</h1><p><a target="_blank" rel="noopener" href="https://pwnable.kr/play.php">PWNABLE</a></p>
<h2 id="入门级别"><a href="#入门级别" class="headerlink" title="入门级别"></a>入门级别</h2><h3 id="fd"><a href="#fd" class="headerlink" title="fd"></a>fd</h3><ul>
<li>背景知识学习：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/File_descriptor#:~:text=In%20Unix%20and%20related%20computer,the%20POSIX%20application%20programming%20interface.">什么是FD, file descriptor</a></li>
<li>题目如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Mommy! what is a file descriptor in Linux?</span><br><span class="line"></span><br><span class="line">* try to play the wargame your self but if you are ABSOLUTE beginner, follow this tutorial link:</span><br><span class="line">https:&#x2F;&#x2F;youtu.be&#x2F;971eZhMHQQw</span><br><span class="line"></span><br><span class="line">ssh fd@pwnable.kr -p2222 (pw:guest)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="解题步骤"><a href="#解题步骤" class="headerlink" title="解题步骤"></a>解题步骤</h4><ol>
<li>登陆机器，发现有fd.c, fd可执行文件，flag文件。首先当然是直接cat flag文件，发现没有权限。</li>
<li>查看fd.c文件，发现是从句柄fd读入数据，只要读入的数据为LETMEWIN就能获得flag内容。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">char buf[32];</span><br><span class="line">int main(int argc, char* argv[], char* envp[])&#123;</span><br><span class="line">  if(argc&lt;2)&#123;</span><br><span class="line">    printf(&quot;pass argv[1] a number\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line">  int fd &#x3D; atoi( argv[1] ) - 0x1234;</span><br><span class="line">  int len &#x3D; 0;</span><br><span class="line">  len &#x3D; read(fd, buf, 32);</span><br><span class="line">  if(!strcmp(&quot;LETMEWIN\n&quot;, buf))&#123;</span><br><span class="line">    printf(&quot;good job :)\n&quot;);</span><br><span class="line">    system(&quot;&#x2F;bin&#x2F;cat flag&quot;);</span><br><span class="line">    exit(0);</span><br><span class="line">  &#125;</span><br><span class="line">  printf(&quot;learn about Linux file IO\n&quot;);</span><br><span class="line">  return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>了解相关知识，文件句柄在linux用int类型表示，0表示STDIN,1表示STDOUT,2表示STDERR，所以，只要让其等于其值就可以了。</li>
<li>所以直接运行./fd 4660就行，就能获取到flag。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fd@pwnable:~$ .&#x2F;fd 4660</span><br><span class="line">LETMEWIN</span><br><span class="line">good job :)</span><br><span class="line">mommy! I think I know what a file descriptor is!!</span><br><span class="line">fd@pwnable:~$</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="collision"><a href="#collision" class="headerlink" title="collision"></a>collision</h3><ul>
<li>背景知识：<a href="link">md5碰撞</a></li>
<li>题目如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Daddy told me about cool MD5 hash collision today.</span><br><span class="line">I wanna do something like that too!</span><br><span class="line"></span><br><span class="line">ssh col@pwnable.kr -p2222 (pw:guest)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="解题步骤-1"><a href="#解题步骤-1" class="headerlink" title="解题步骤"></a>解题步骤</h4><ol>
<li><p>登陆机器，查看col.c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">unsigned long hashcode &#x3D; 0x21DD09EC;</span><br><span class="line">unsigned long check_password(const char* p)&#123;</span><br><span class="line">  int* ip &#x3D; (int*)p;</span><br><span class="line">  int i;</span><br><span class="line">  int res&#x3D;0;</span><br><span class="line">  for(i&#x3D;0; i&lt;5; i++)&#123;</span><br><span class="line">    res +&#x3D; ip[i];</span><br><span class="line">  &#125;</span><br><span class="line">  return res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char* argv[])&#123;</span><br><span class="line">  if(argc&lt;2)&#123;</span><br><span class="line">    printf(&quot;usage : %s [passcode]\n&quot;, argv[0]);</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line">  if(strlen(argv[1]) !&#x3D; 20)&#123;</span><br><span class="line">    printf(&quot;passcode length should be 20 bytes\n&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if(hashcode &#x3D;&#x3D; check_password( argv[1] ))&#123;</span><br><span class="line">    system(&quot;&#x2F;bin&#x2F;cat flag&quot;);</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line">  else</span><br><span class="line">    printf(&quot;wrong passcode.\n&quot;);</span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>由题目知道，需要使char[20]转化为4个int后，值相加为hashcode。</p>
</li>
<li><p>此时可以这样，第一个char[4]为[0x21-4][0xdd-4][0x09-4][0xec-4],其他的都为\0x1\0x1\0x1\0x1，由于注意是小端系统，所以：<br>构造的值为：<code>\xe8\x05\xd9\x1d\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1</code></p>
</li>
<li><p>利用python构造输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">col@pwnable:~$ .&#x2F;col &#96;python -c &#39;print &quot;\xe8\x05\xd9\x1d\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1\1&quot;&#39;&#96;</span><br><span class="line">daddy! I just managed to create a hash collision :)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>最后的flag说，我成功创立了一个哈希碰撞！这其实也是这道题的本来用意：介绍哈希碰撞的概念和意义。首先我们来解释一下什么是哈希。哈希的英文是hash，就是将一个输入映射为独一无二、固定长度的值，也就是哈希值（hash value）。这个映射的最大意义在于，对于不同的输入，产生的哈希值理论上应该是不同的，这样就可以根据哈希值来识别不同的输入。</p>
<p>但是实际上，很多哈希算法，都有可能出现这样一种现象，就是不同的输入得到了同一个哈希值。这种现象，就叫做“哈希碰撞”（hash collision）。这种现象造成的问题是，就像我们题中的代码一样，如果我们想要根据哈希值来判断对方持有的密码是不是与我们事先约定的一样，那么如果出现了哈希碰撞，这个密码就会变得不安全，因为对方很可能并不知道我们约定的密码，却可以通过碰撞找到另一个字符串，同样得到正确密码计算出来的哈希值，从而通过检查，就像我们解题的过程一样。</p>
<p>哈希碰撞是黑客攻击常用的方法。由于哈希值广泛应用于安全验证当中，比如MD5算法用于检查文件完整性，如果文件被篡改，那么会导致哈希值不同，从而让使用者有所警觉，意识到文件可能被植入了木马或者有其他安全隐患。但如果黑客可以用一些方式，既篡改了文件，又能造成MD5算法的碰撞——也就是恰好产生与原文件同样的哈希值，那么就可以成功地开展一次攻击。山东大学的王小云教授，于2004年发现了在一些条件下制造MD5哈希碰撞的方法，某种程度上“重创”了算法的安全性，也让MD5算法逐渐退出了历史舞台，被更安全的哈希算法所取代。</p>
<p>持续更新中…</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/06/2020-09-06-NSAPro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/06/2020-09-06-NSAPro/" class="post-title-link" itemprop="url">家庭版NAS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-06 12:00:00" itemprop="dateCreated datePublished" datetime="2020-09-06T12:00:00+08:00">2020-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/source-code/" itemprop="url" rel="index"><span itemprop="name">source code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“家庭版NAS开发”</p>
</blockquote>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>NAS全称是Network Area Storage，可以通过外网访问<br><img src="https://pic2.zhimg.com/80/1e4d5b3537a6bdb7d9499a02807d3bc7_720w.jpg" alt="img"><br>通俗点说，就是有一台很小很小的台式主机，里面只装了很多颗的硬碟，这台电脑很省电，又不会发热，只要有网路，就可以连到这台小电脑里面，把自己的资料储存进去，把需要的资料拿出来使用，而且你需要多少储存容量只要你买硬盘加上去就行了。简单理解就是家庭版本的百度网盘，隐私性，网速都没有限制。</p>
<h2 id="为什么要做家庭版本的NAS"><a href="#为什么要做家庭版本的NAS" class="headerlink" title="为什么要做家庭版本的NAS?"></a>为什么要做家庭版本的NAS?</h2><ul>
<li>内云储存不安全，国外云储存又因为种种原因经常抽个风，所以还是搞 Nas，整私有云靠谱点；</li>
<li>作为家庭媒体数据中心，这样电视盒子，WiFi 音箱就能直接读取 Nas 里面下载的电影和歌曲，当然也可以完美使用电视串流功能；</li>
<li>下载和上传多快取决于你的网线，不用再买VIP；</li>
<li>闲暇时间自动下载电影等资源；</li>
<li>可以把空闲的硬盘，U盘等充分应用起来；</li>
</ul>
<h2 id="调研"><a href="#调研" class="headerlink" title="调研"></a>调研</h2><ol>
<li>淘宝调研-价格奇高</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/07/19/2020-07-19-source_code_learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/19/2020-07-19-source_code_learn/" class="post-title-link" itemprop="url">源代码学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-19 12:00:00" itemprop="dateCreated datePublished" datetime="2020-07-19T12:00:00+08:00">2020-07-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/source-code/" itemprop="url" rel="index"><span itemprop="name">source code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“源代码学习”</p>
</blockquote>
<h1 id="不断前行，不断超越，架构优美，代码简洁。"><a href="#不断前行，不断超越，架构优美，代码简洁。" class="headerlink" title="不断前行，不断超越，架构优美，代码简洁。"></a>不断前行，不断超越，架构优美，代码简洁。</h1><h1 id="源代码学习"><a href="#源代码学习" class="headerlink" title="源代码学习"></a>源代码学习</h1><h2 id="项目1-Webbench"><a href="#项目1-Webbench" class="headerlink" title="项目1:Webbench"></a>项目1:Webbench</h2><p>源码地址:<a target="_blank" rel="noopener" href="http://home.tiscali.cz/~cz210552/webbench.html">link</a></p>
<h3 id="阅读感受"><a href="#阅读感受" class="headerlink" title="阅读感受"></a>阅读感受</h3><ul>
<li>这个代码里面tab和空格混用，风格不太友好。</li>
<li>多种编码风格混用，有点垃圾。</li>
<li>函数操作不够原子化，特别是开始的入参解析。</li>
<li>这代码还是比较挫吧。</li>
</ul>
<h3 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h3><ul>
<li>linux中的管道-pipe，链接:<a target="_blank" rel="noopener" href="https://blog.csdn.net/oguro/article/details/53841949">url</a></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//练习：使用管道实现父子进程间通信，完成：ls | wc –l。假定父进程实现ls，子进程实现wc。</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">pid_t</span> pid;</span><br><span class="line">  <span class="keyword">int</span> fd[<span class="number">2</span>];</span><br><span class="line"> </span><br><span class="line">  pipe(fd);</span><br><span class="line">  pid = fork();</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">if</span> (pid == <span class="number">0</span>) &#123;  <span class="comment">//child</span></span><br><span class="line">    close(fd[<span class="number">1</span>]);                 <span class="comment">//子进程从管道中读数据，关闭写端</span></span><br><span class="line">    dup2(fd[<span class="number">0</span>], STDIN_FILENO);    <span class="comment">//让wc从管道中读取数据</span></span><br><span class="line">    execlp(<span class="string">&quot;wc&quot;</span>, <span class="string">&quot;wc&quot;</span>, <span class="string">&quot;-l&quot;</span>, <span class="literal">NULL</span>); <span class="comment">//wc命令默认从标准读入取数据</span></span><br><span class="line"> </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"> </span><br><span class="line">    close(fd[<span class="number">0</span>]); <span class="comment">//父进程向管道中写数据，关闭读端</span></span><br><span class="line">    dup2(fd[<span class="number">1</span>], STDOUT_FILENO);   <span class="comment">//将ls的结果写入管道中</span></span><br><span class="line">    execlp(<span class="string">&quot;ls&quot;</span>, <span class="string">&quot;ls&quot;</span>, <span class="literal">NULL</span>);   <span class="comment">//ls输出结果默认对应屏幕</span></span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="项目2-Tinyhttpd"><a href="#项目2-Tinyhttpd" class="headerlink" title="项目2:Tinyhttpd"></a>项目2:Tinyhttpd</h2><p>源码地址:<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/tinyhttpd/">url</a></p>
<h3 id="阅读感受-1"><a href="#阅读感受-1" class="headerlink" title="阅读感受"></a>阅读感受</h3><ul>
<li>里面的数据包头解析如果能提取为一个函数更好，看着有点乱。</li>
<li>execute_cgi中多点注释表较好理解。</li>
<li>总体来说这代码写得还可以。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pipe代码</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">execute_cgi</span><span class="params">( <span class="keyword">int</span> client, <span class="keyword">const</span> <span class="keyword">char</span> *path,</span></span></span><br><span class="line"><span class="function"><span class="params">      <span class="keyword">const</span> <span class="keyword">char</span> *method, <span class="keyword">const</span> <span class="keyword">char</span> *query_string )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span>  buf[<span class="number">1024</span>];</span><br><span class="line">  <span class="keyword">int</span> cgi_output[<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">int</span> cgi_input[<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">pid_t</span> pid;</span><br><span class="line">  <span class="keyword">int</span> status;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  <span class="keyword">char</span>  c;</span><br><span class="line">  <span class="keyword">int</span> numchars  = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> content_length  = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">  buf[<span class="number">0</span>] = <span class="string">&quot;&#x27;&quot;</span>A<span class="string">&quot;&#x27;&quot;</span>; buf[<span class="number">1</span>] = <span class="string">&quot;&#x27;&quot;</span>\<span class="number">0</span><span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">  <span class="keyword">if</span> ( strcasecmp( method, <span class="string">&quot;GET&quot;</span> ) == <span class="number">0</span> )</span><br><span class="line">    <span class="keyword">while</span> ( (numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>( <span class="string">&quot;\n&quot;</span>, buf ) ) <span class="comment">/* read &amp; discard headers */</span></span><br><span class="line">      numchars = get_line( client, buf, <span class="keyword">sizeof</span>(buf) );</span><br><span class="line">  <span class="keyword">else</span>&#123;                                                   <span class="comment">/* POST */</span></span><br><span class="line">    numchars = get_line( client, buf, <span class="keyword">sizeof</span>(buf) );</span><br><span class="line">    <span class="keyword">while</span> ( (numchars &gt; <span class="number">0</span>) &amp;&amp; <span class="built_in">strcmp</span>( <span class="string">&quot;\n&quot;</span>, buf ) )</span><br><span class="line">    &#123;</span><br><span class="line">      buf[<span class="number">15</span>] = <span class="string">&quot;&#x27;&quot;</span>\<span class="number">0</span><span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">      <span class="keyword">if</span> ( strcasecmp( buf, <span class="string">&quot;Content-Length:&quot;</span> ) == <span class="number">0</span> )</span><br><span class="line">        content_length = atoi( &amp;(buf[<span class="number">16</span>]) );</span><br><span class="line">      numchars = get_line( client, buf, <span class="keyword">sizeof</span>(buf) );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ( content_length == <span class="number">-1</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      bad_request( client );</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">sprintf</span>( buf, <span class="string">&quot;HTTP/1.0 200 OK\r\n&quot;</span> );</span><br><span class="line">  send( client, buf, <span class="built_in">strlen</span>( buf ), <span class="number">0</span> );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( pipe( cgi_output ) &lt; <span class="number">0</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cannot_execute( client );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( pipe( cgi_input ) &lt; <span class="number">0</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cannot_execute( client );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( (pid = fork() ) &lt; <span class="number">0</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    cannot_execute( client );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> ( pid == <span class="number">0</span> )                         <span class="comment">/* child: CGI script */</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">char</span>  meth_env[<span class="number">255</span>];</span><br><span class="line">    <span class="keyword">char</span>  query_env[<span class="number">255</span>];</span><br><span class="line">    <span class="keyword">char</span>  length_env[<span class="number">255</span>];</span><br><span class="line"></span><br><span class="line">    dup2( cgi_output[<span class="number">1</span>], <span class="number">1</span> );       <span class="comment">/* 这里用宏比较好吧, output */</span></span><br><span class="line">    dup2( cgi_input[<span class="number">0</span>], <span class="number">0</span> );        <span class="comment">/* 这里用宏比较好吧, input */</span></span><br><span class="line">    close( cgi_output[<span class="number">0</span>] );</span><br><span class="line">    close( cgi_input[<span class="number">1</span>] );</span><br><span class="line">    <span class="built_in">sprintf</span>( meth_env, <span class="string">&quot;REQUEST_METHOD=%s&quot;</span>, method );</span><br><span class="line">    putenv( meth_env );</span><br><span class="line">    <span class="keyword">if</span> ( strcasecmp( method, <span class="string">&quot;GET&quot;</span> ) == <span class="number">0</span> )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">sprintf</span>( query_env, <span class="string">&quot;QUERY_STRING=%s&quot;</span>, query_string );</span><br><span class="line">      putenv( query_env );</span><br><span class="line">    &#125; <span class="keyword">else</span>  &#123;        <span class="comment">/* POST */</span></span><br><span class="line">      <span class="built_in">sprintf</span>( length_env, <span class="string">&quot;CONTENT_LENGTH=%d&quot;</span>, content_length );</span><br><span class="line">      putenv( length_env );</span><br><span class="line">    &#125;</span><br><span class="line">    execl( path, path, <span class="literal">NULL</span> );</span><br><span class="line">    <span class="built_in">exit</span>( <span class="number">0</span> );</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;                <span class="comment">/* parent */</span></span><br><span class="line">    close( cgi_output[<span class="number">1</span>] );</span><br><span class="line">    close( cgi_input[<span class="number">0</span>] );</span><br><span class="line">    <span class="keyword">if</span> ( strcasecmp( method, <span class="string">&quot;POST&quot;</span> ) == <span class="number">0</span> )</span><br><span class="line">      <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; content_length; i++ )</span><br><span class="line">      &#123;</span><br><span class="line">        recv( client, &amp;c, <span class="number">1</span>, <span class="number">0</span> );</span><br><span class="line">        write( cgi_input[<span class="number">1</span>], &amp;c, <span class="number">1</span> );</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">while</span> ( read( cgi_output[<span class="number">0</span>], &amp;c, <span class="number">1</span> ) &gt; <span class="number">0</span> )</span><br><span class="line">      send( client, &amp;c, <span class="number">1</span>, <span class="number">0</span> );</span><br><span class="line"></span><br><span class="line">    close( cgi_output[<span class="number">0</span>] );</span><br><span class="line">    close( cgi_input[<span class="number">1</span>] );</span><br><span class="line">    waitpid( pid, &amp;status, <span class="number">0</span> );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="项目3-cJSON"><a href="#项目3-cJSON" class="headerlink" title="项目3:cJSON"></a>项目3:cJSON</h2><p>项目地址:<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/cjson/">url</a></p>
<h3 id="阅读感受-2"><a href="#阅读感受-2" class="headerlink" title="阅读感受"></a>阅读感受</h3><p>…持续更新中</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-03-30-sshNat/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-03-30-sshNat/" class="post-title-link" itemprop="url">ssh实现内网穿透</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82/" itemprop="url" rel="index"><span itemprop="name">杂</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“ssh实现内网穿透”</p>
</blockquote>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>A主机为公网IP，B，C主机为内网IP，现在需要B连接C主机。</p>
<h2 id="实现-命令"><a href="#实现-命令" class="headerlink" title="实现(命令)"></a>实现(命令)</h2><p>对于服务器A:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#生成密钥，并复制到C（实现免密登陆）</span><br><span class="line">&gt;ssh-keygen</span><br><span class="line">#复制通过scp</span><br><span class="line">#在C上输入</span><br><span class="line">&gt;scp username@addr:~&#x2F;.ssh&#x2F;id_rsa.pub</span><br><span class="line">&gt;cat id_rsa.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure>
<p>对于C</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#把远程的6766端口映射到本地22端口</span><br><span class="line">&gt;autossh -p 22 -M 6777 -NR &#39;*:6766:127.0.0.1:22&#39; username@addr</span><br></pre></td></tr></table></figure>
<p>然后在A上执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#编辑&#x2F;etc&#x2F;ssh&#x2F;sshd_config,加入 GatewayPorts yes</span><br><span class="line">#重启sshd, service sshd restart</span><br><span class="line">#实现B登陆到C</span><br><span class="line">&gt;ssh -p 6777 userb@addr</span><br></pre></td></tr></table></figure>
<p>实现80端口也一样的</p>
<p>—— cesign 后记于 2018.03</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-04-11-docker_learn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-04-11-docker_learn/" class="post-title-link" itemprop="url">Docker学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“Docker学习”</p>
</blockquote>
<h2 id="Docker介绍"><a href="#Docker介绍" class="headerlink" title="Docker介绍"></a>Docker介绍</h2><p>Docker是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者在笔记本上编译测试通过的容器可以批量地在生产环境中部署，包括VMs（虚拟机）、bare metal、OpenStack 集群和其他的基础应用平台。</p>
<h2 id="Docker原理"><a href="#Docker原理" class="headerlink" title="Docker原理"></a>Docker原理</h2><p>Docker原理介绍：<a target="_blank" rel="noopener" href="http://dockone.io/article/783">link</a></p>
<h2 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get install docker</span><br><span class="line">apt-get install docker.io</span><br></pre></td></tr></table></figure>
<h2 id="选择仓库（记得重启）"><a href="#选择仓库（记得重启）" class="headerlink" title="选择仓库（记得重启）"></a>选择仓库（记得重启）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;docker&#x2F;daemon.json</span><br><span class="line">&#123; &quot;registry-mirrors&quot;:[&quot;http:&#x2F;&#x2F;hub-mirror.c.163.com&quot;]&#125;</span><br></pre></td></tr></table></figure>
<h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><p>查看版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>
<p>搜索可用镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search image_words</span><br></pre></td></tr></table></figure>
<p>拉取镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull image_name</span><br></pre></td></tr></table></figure>
<p>删除镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;可能需要先停止并删除正在运行的容器</span><br><span class="line">docker rmi image_id</span><br><span class="line">&#x2F;&#x2F;错误:image is referenced in multiple repositories</span><br><span class="line">docker rmi respository_name</span><br></pre></td></tr></table></figure>
<p>在容器中运行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run image_name cmd</span><br></pre></td></tr></table></figure>
<p>查看所有容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>
<p>查看运行中的容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>
<p>删除容器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rm con_id</span><br><span class="line">&#x2F;&#x2F;删除所有</span><br><span class="line">docker rm $(docker ps -aq)</span><br></pre></td></tr></table></figure>
<p>在容器中安装程序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run image_name apt-get install software</span><br></pre></td></tr></table></figure>
<p>保存对容器的修改（镜像）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;先查看容器ID</span><br><span class="line">docker ps -l</span><br><span class="line">&#x2F;&#x2F;保存</span><br><span class="line">docker commit id_start user&#x2F;des_or_keyword</span><br></pre></td></tr></table></figure>
<p>把保存的镜像上传到docker hub</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker tag image_name user_name&#x2F;res_name</span><br><span class="line">docker push user_name&#x2F;res_name</span><br></pre></td></tr></table></figure>
<p>检查运行中的镜像</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;查看运行中的容器</span><br><span class="line">docker ps</span><br><span class="line">&#x2F;&#x2F;查看容器的详细信息</span><br><span class="line">docker inspect con_id</span><br></pre></td></tr></table></figure>
<p>—— cesign 后记于 2018.03</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-06-09-sublime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-06-09-sublime/" class="post-title-link" itemprop="url">sublime text 3安装</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“sublime text 3安装“</p>
</blockquote>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>sublime text 3 mac下的安装，</p>
<h2 id="软件下载"><a href="#软件下载" class="headerlink" title="软件下载"></a>软件下载</h2><p>去百度云或者官网</p>
<h2 id="修改host文件"><a href="#修改host文件" class="headerlink" title="修改host文件"></a>修改host文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;hosts</span><br><span class="line">&#x2F;&#x2F;加入下面的类容</span><br><span class="line">127.0.0.1       www.sublimetext.com</span><br><span class="line">127.0.0.1       license.sublimehq.com</span><br></pre></td></tr></table></figure>
<h2 id="输入key"><a href="#输入key" class="headerlink" title="输入key"></a>输入key</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">----- BEGIN LICENSE -----</span><br><span class="line">sgbteam</span><br><span class="line">Single User License</span><br><span class="line">EA7E-1153259</span><br><span class="line">8891CBB9 F1513E4F 1A3405C1 A865D53F</span><br><span class="line">115F202E 7B91AB2D 0D2A40ED 352B269B</span><br><span class="line">76E84F0B CD69BFC7 59F2DFEF E267328F</span><br><span class="line">215652A3 E88F9D8F 4C38E3BA 5B2DAAE4</span><br><span class="line">969624E7 DC9CD4D5 717FB40C 1B9738CF</span><br><span class="line">20B3C4F1 E917B5B3 87C38D9C ACCE7DD8</span><br><span class="line">5F7EF854 86B9743C FADC04AA FB0DA5C0</span><br><span class="line">F913BE58 42FEA319 F954EFDD AE881E0B</span><br><span class="line">------ END LICENSE ------</span><br></pre></td></tr></table></figure>

<h2 id="安装package-control"><a href="#安装package-control" class="headerlink" title="安装package control"></a>安装package control</h2><p><strong><em>ctrl+`</em></strong> 后输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request,os,hashlib; h &#x3D; &#39;6f4c264a24d933ce70df5dedcf1dcaee&#39; + &#39;ebe013ee18cced0ef93d5f746d80ef60&#39;; pf &#x3D; &#39;Package Control.sublime-package&#39;; ipp &#x3D; sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by &#x3D; urllib.request.urlopen( &#39;http:&#x2F;&#x2F;packagecontrol.io&#x2F;&#39; + pf.replace(&#39; &#39;, &#39;%20&#39;)).read(); dh &#x3D; hashlib.sha256(by).hexdigest(); print(&#39;Error validating download (got %s instead of %s), please try manual install&#39; % (dh, h)) if dh !&#x3D; h else open(os.path.join( ipp, pf), &#39;wb&#39; ).write(by)</span><br></pre></td></tr></table></figure>

<h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><h3 id="markdown插件"><a href="#markdown插件" class="headerlink" title="markdown插件"></a>markdown插件</h3><p>MarkdownEditing: 修改用户设置(GFM)，修改为下列配置文件（先把default复制到user）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Layout</span><br><span class="line">&quot;draw_centered&quot;: true,</span><br><span class="line">&quot;word_wrap&quot;: true,</span><br><span class="line">&quot;wrap_width&quot;: 120,</span><br><span class="line">&quot;rulers&quot;: [],</span><br></pre></td></tr></table></figure>

<p>MarkdownPreview: 配合上一个插件用</p>
<h3 id="格式化代码相关"><a href="#格式化代码相关" class="headerlink" title="格式化代码相关"></a>格式化代码相关</h3><p>CodeFormatter: 格式化代码，有几种语言不支持<br>CoolFormat: 格式化代码<br>Alignment：自动对齐插件</p>
<h3 id="注释相关"><a href="#注释相关" class="headerlink" title="注释相关"></a>注释相关</h3><p>DocBlockr：可以快速注释</p>
<h3 id="补全相关"><a href="#补全相关" class="headerlink" title="补全相关"></a>补全相关</h3><p>All Autocomplete: 这个插件扩展了其自动完成的单词列表到所有打开的文件</p>
<h3 id="辅助阅读"><a href="#辅助阅读" class="headerlink" title="辅助阅读"></a>辅助阅读</h3><p>BracketHighlighter: 类似于代码匹配，可以匹配括号，引号等符号内的范围。对代码阅读很有帮助。</p>
<h3 id="文件比对"><a href="#文件比对" class="headerlink" title="文件比对"></a>文件比对</h3><h3 id="git相关"><a href="#git相关" class="headerlink" title="git相关"></a>git相关</h3><p>Git:  这个插件会将Git整合进你的SublimeText，使的你可以在SublimeText中运行Git命令，包括添加，提交文件，查看日志，文件注解以及其它Git功能。<br>GitGutter: 这是个十分有用的插件，它会在你最后一次提交Git后显示出有哪些行是被改动过的。</p>
<h3 id="go相关"><a href="#go相关" class="headerlink" title="go相关"></a>go相关</h3><p>gosublime: go语言格式化等</p>
<h3 id="目录树相关"><a href="#目录树相关" class="headerlink" title="目录树相关"></a>目录树相关</h3><p>SideBarEnhancements：可以大大加强在侧栏目录树中右键的选项</p>
<h2 id="设置终端快捷键"><a href="#设置终端快捷键" class="headerlink" title="设置终端快捷键"></a>设置终端快捷键</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s &#x2F;Applications&#x2F;Sublime\ Text.app&#x2F;Contents&#x2F;SharedSupport&#x2F;bin&#x2F;subl &#x2F;usr&#x2F;local&#x2F;bin&#x2F;sublime</span><br></pre></td></tr></table></figure>

<p>—— cesign 后记于 2018.06</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-06-27-gdb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-06-27-gdb/" class="post-title-link" itemprop="url">gdb调试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“gdb调试”</p>
</blockquote>
<h2 id="gdb调试"><a href="#gdb调试" class="headerlink" title="gdb调试"></a>gdb调试</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">gcc -g  main.c                      &#x2F;&#x2F;在目标文件加入源代码的信息</span><br><span class="line">gdb a.out       </span><br><span class="line"></span><br><span class="line">(gdb) start                         &#x2F;&#x2F;开始调试</span><br><span class="line">(gdb) n                             &#x2F;&#x2F;一条一条执行</span><br><span class="line">(gdb) step&#x2F;s                        &#x2F;&#x2F;执行下一条，如果函数进入函数</span><br><span class="line">(gdb) backtrace&#x2F;bt                  &#x2F;&#x2F;查看函数调用栈帧</span><br><span class="line">(gdb) info&#x2F;i locals                 &#x2F;&#x2F;查看当前栈帧局部变量</span><br><span class="line">(gdb) frame&#x2F;f                       &#x2F;&#x2F;选择栈帧，再查看局部变量</span><br><span class="line">(gdb) print&#x2F;p                       &#x2F;&#x2F;打印变量的值</span><br><span class="line">(gdb) finish                        &#x2F;&#x2F;运行到当前函数返回</span><br><span class="line">(gdb) set var sum&#x3D;0                 &#x2F;&#x2F;修改变量值</span><br><span class="line">(gdb) list&#x2F;l 行号或函数名             &#x2F;&#x2F;列出源码</span><br><span class="line">(gdb) display&#x2F;undisplay sum         &#x2F;&#x2F;每次停下显示变量的值&#x2F;取消跟踪</span><br><span class="line">(gdb) break&#x2F;b  行号或函数名           &#x2F;&#x2F;设置断点</span><br><span class="line">(gdb) continue&#x2F;c                    &#x2F;&#x2F;连续运行</span><br><span class="line">(gdb) info&#x2F;i breakpoints            &#x2F;&#x2F;查看已经设置的断点</span><br><span class="line">(gdb) delete breakpoints 2          &#x2F;&#x2F;删除某个断点</span><br><span class="line">(gdb) disable&#x2F;enable breakpoints 3  &#x2F;&#x2F;禁用&#x2F;启用某个断点</span><br><span class="line">(gdb) break 9 if sum !&#x3D; 0           &#x2F;&#x2F;满足条件才激活断点</span><br><span class="line">(gdb) run&#x2F;r                         &#x2F;&#x2F;重新从程序开头连续执行</span><br><span class="line">(gdb) watch input[4]                &#x2F;&#x2F;设置观察点</span><br><span class="line">(gdb) info&#x2F;i watchpoints            &#x2F;&#x2F;查看设置的观察点</span><br><span class="line">(gdb) x&#x2F;7b input                    &#x2F;&#x2F;打印存储器内容，b--每个字节一组，7--7组</span><br><span class="line">(gdb) disassemble                   &#x2F;&#x2F;反汇编当前函数或指定函数</span><br><span class="line">(gdb) si                            &#x2F;&#x2F; 一条指令一条指令调试 而 s 是一行一行代码</span><br><span class="line">(gdb) info registers                &#x2F;&#x2F; 显示所有寄存器的当前值</span><br><span class="line">(gdb) x&#x2F;20 $esp                    &#x2F;&#x2F;查看内存中开始的20个数</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-07-14-dds/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-07-14-dds/" class="post-title-link" itemprop="url">DDS学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82/" itemprop="url" rel="index"><span itemprop="name">杂</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“DDS学习”</p>
</blockquote>
<h1 id="DDS学习"><a href="#DDS学习" class="headerlink" title="DDS学习"></a>DDS学习</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>DDS以数据为中心的发布一订阅模型为所有分布式节点之间建立了一个虚拟共享的“全局数据空间(Global Data Space, GDS)。在该模型下分布式节点在网络上以发布或订阅的方式传输数据，节点可以是发布者或订阅者，或者既是发布者又是订阅者。网络中的数据对象用主题((Topic)做标识，分布式节点在全局数据空间中发布或订阅感兴趣的主题信息。各个节点在逻辑上无主从关系，点与点之间都是对等关系.通信方式可以是点对点、点对多、多对多等，在QoS的控制下建立连接，自动发现和配置网络参数,如下图<br><img src="https://pic4.zhimg.com/80/v2-e2811078ee8fbd3ab6397b848f9d3789_hd.jpg" alt="img"></p>
<h2 id="DDS架构"><a href="#DDS架构" class="headerlink" title="DDS架构"></a>DDS架构</h2><p><img src="https://pic3.zhimg.com/80/v2-284789ca930ec5a54744c6b5daafe65c_hd.jpg" alt="img"><br>DDS规范有两层，分别是数据本地重构层DLRL（Data Local Reconstruction Layer)和以数据为中心的发布一订阅层DCPS（Data-Centric Publish-Subscribe）。DCPS层是DDS的核心和基础，提供了通信的基本服务；DLRL层将DCPS层提供的服务进行了抽象，在DLRL层建立了与底层服务的映射关系。</p>
<h2 id="DDS域（Domain）和域参与者（Domain-Participant）"><a href="#DDS域（Domain）和域参与者（Domain-Participant）" class="headerlink" title="DDS域（Domain）和域参与者（Domain Participant）"></a>DDS域（Domain）和域参与者（Domain Participant）</h2><p><img src="https://pic4.zhimg.com/80/v2-22a3c208f82d52103c14d08af11b6673_hd.jpg" alt="img"></p>
<h2 id="DDS组成模型"><a href="#DDS组成模型" class="headerlink" title="DDS组成模型"></a>DDS组成模型</h2><p>DDS内所有的成员都是Entity，DDS中的任两个Entity（实体角色）通信都必须在同一个Domain内进行交互，即他们初始化时DomainID是同一个，并且不同Domain的DomainID必须唯一。Domain内的DomainParticipant是服务的入口点，任何DDS应用都需首先获取DomainParticipant，然后通过Domain Participant获取其他服务，如Publisher、Subscriber、Topic等。<br><img src="https://pic4.zhimg.com/80/v2-b92695d69cf98d66ec20293b02d11120_hd.jpg" alt="img"></p>
<h2 id="几个重要概念"><a href="#几个重要概念" class="headerlink" title="几个重要概念"></a>几个重要概念</h2><ul>
<li>服务质量策略(QoS)。DDS规范定义了丰富的服务质量策略(Quality of Services Policies)，QoS是一种网络传输策略，应用程序指定所需要的网络传输质量行为，QoS服务实现这种行为要求，尽可能地满足客户对通信质量的需求，DDS定义QoS策略使其对复杂网络环境的适应性和鲁棒性大大增强，优化网络传输质量。QoS可以理解为数据提供者和接收者之间的合约。<br><img src="https://pic2.zhimg.com/80/v2-cf2c0801b3a59b0174f03e4873c788f6_hd.jpg" alt="img"></li>
<li>Domain是一个范围概念，由域号(DomainID ) 唯一标示，只有在同一个域内的通信实体才能通信，不同域内的实体间无任何逻辑关系。</li>
<li>Domain Participant作为数据分发服务的入口点，包含若干发布者、订阅者和注册主题，负责创建、删除和管理这些实体。</li>
<li>Publisher作为发布者角色，至少包含一个DataWriter，并负责创建、删除和管理DataWriter。同样，Subscribe作为订阅角色，至少与一个DataReader关联，并负责创建、删除和管理DataReader。</li>
<li>DataWriter具体负责发布数据，数据发布者通过调用DataWriter的write函数发布数据，但数据不会立刻被送出，实际的消息产生是通过Puhlisher和QoS综合控制的。</li>
<li>DataReader负责订阅数据，订阅方式可采用异步方式(Listener)、同步方式(WaitSet)和非阻塞三种。</li>
<li>Topic是DataWriter和DataReader相互通信时约定的主题，每个DataWriter/DataReader必须与一个主题绑定，相互通信的DataWriter与DataReader之间的主题数据类型必须相同、QoS必须匹配。另外，Topic必须有确定的数据类型。</li>
</ul>
<h2 id="DDS官方文档阅读"><a href="#DDS官方文档阅读" class="headerlink" title="DDS官方文档阅读"></a>DDS官方文档阅读</h2><ul>
<li>The purpose of the DDS specification can be summarized as enabling the “Efficient and Robust Delivery of the Right<br>Information to the Right Place at the Right Time.”</li>
</ul>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>OMG IDL Stubs and Skeletons(IDL stubs and skeletons serve as a “glue” between the client and servants, respectively, and the ORB),IDL Compiler(An IDL compiler transforms OMG IDL definitions into stubs and skeletons),Dynamic Invocation Interface(Dynamic Invocation Interface (DII): The DII allows clients to generate requests at run-time), Dynamic Skeleton Interface(The DSI allows an ORB to deliver requests to servants that have no compile-time knowledge of the IDL interface they implement), Object Adapter(Object Adapters enable ORBs to support various types of servants that possess similar requirements),Interface Repository(The Interface Repository provides run-time information about IDL interfaces),Implementation Repository(The Implementation Repository contains information that allows an ORB to activate servers to process servants).</p>
<p>CORBA适用场景：RPC-style applications that possess “best-effort” quality of service (QoS) requirements.<br>CORBA不适用场景： high-performance, real-time applications for the fol- lowing reasons.<br>REASON:(1)Lack of QoS specification interfaces;(2)Lack of QoS enforcement;(3)Lack of real-time programming features:(4)Lack of performance optimizations;(5)</p>
<h2 id="文档阅读"><a href="#文档阅读" class="headerlink" title="文档阅读"></a>文档阅读</h2><ol>
<li>各膜的全称及作用</li>
<li>1 AMQP: The Advanced Message Queuing Protocol<br>  作用: designed to address applications requiring fast and reliable business transactions.</li>
<li>2 JMS: Java Message Service API<br>  作用:  designed to address applications requiring fast and reliable business transactions, JMS is focused on Java-centric systems  </li>
<li>3 MQTT:  Message Queuing Telemetry Transport<br>  作用: provides a simple and lightweight device data collection solution</li>
<li>4 REST: Representational state transfer<br>  作用:  provides a simple client-server (request/reply) style of communications that is useful for systems that need to communicate over the Internet, but it cannot provide asynchronous loosely coupled publish-and-subscribe message exchanges.<br>ahdjkahsdjhajkshdfjkhajkdfhakhfjkhajskdhfkashkdfhkasdfasd</li>
</ol>
<h2 id="7-29任务"><a href="#7-29任务" class="headerlink" title="7/29任务"></a>7/29任务</h2><p>消息中间件，实时系统，嵌入式，AI算子，</p>
<h3 id="嵌入式-嵌入式"><a href="#嵌入式-嵌入式" class="headerlink" title="嵌入式,嵌入式"></a>嵌入式,嵌入式</h3><ul>
<li>Dr. Basel Halak: <a target="_blank" rel="noopener" href="https://www.ecs.soton.ac.uk/people/bh9">link</a><ul>
<li>嵌入式教授</li>
<li>关注嵌入式安全和功耗</li>
</ul>
</li>
<li>Professor Bashir Al-Hashimi: <a target="_blank" rel="noopener" href="https://www.ecs.soton.ac.uk/people/bmah#publications">link</a><ul>
<li>嵌入式教授，比较牛</li>
<li>关注嵌入式系统中的低功耗，如实时系统中的低功耗，关系power-efficient的论文较多</li>
</ul>
</li>
</ul>
<h2 id="Real-time比较"><a href="#Real-time比较" class="headerlink" title="Real-time比较"></a>Real-time比较</h2><p>TAO为满足QoS所做的操作：</p>
<ol>
<li>高速网路适配器：一个或多个ATM接口控制器芯片(APIC)互相连接而组成的菊花链 .APIC能作为一个系统/网络接口使用，也能作为I/O接口芯片组使用.</li>
<li>实时I/O系统：通过避免优先级倒置来提高实时性，用一个核心线程池专用处理协议并且用应用程序的线程关联这些线程. 这些核心线程运行在与应用程序线程同样的优先级别, 这样能防止多种实时调度事故的发生如优先反演和隐藏调度.</li>
<li>实时调度:TAO通过支持周期性实时应用程序的实时I/O调度类来确保支持QoS. 一旦实时I/O类的一个线程被操作系统接纳, 调度程序将负责(1) 计算在类中相关的其它线程的优先级并且(2)周期性地分发这些线程以使它们在最后期限是满足的.</li>
<li>输入控制器:输入控制允许操作系统要么确保指定的计算时间，要么拒绝接收线程. 输入控制对于实时系统在确定和统计QoS需求方面很有用处.</li>
<li>实时对象适配器:TAO使用de-分层多路分解 (Figure 4(B)).这种近似使用多路分解键(demultiplexing keys)的方式把ORB指派给客户端. 这些键映射客户请求到对象/操作在O(1)时间里不需要任何的哈西运算或搜索.<br><a target="_blank" rel="noopener" href="http://docs.huihoo.com/ace_tao/i/corba_demux2.gif">img</a></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-08-12-cmake/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-08-12-cmake/" class="post-title-link" itemprop="url">cmake学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“cmake学习”</p>
</blockquote>
<h1 id="cmake学习"><a href="#cmake学习" class="headerlink" title="cmake学习"></a>cmake学习</h1><h2 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 2.6)</span><br><span class="line">project(xxx)</span><br><span class="line">add_executable(xxx main.cpp)</span><br></pre></td></tr></table></figure>

<ul>
<li>cmake_minimum_required指定cmake的版本</li>
<li>project指定项目</li>
<li>add_executable指定生成的可运行文件</li>
<li>add_subdirectory添加需要编译的源文件的子目录 </li>
<li>include_directories向工程添加多个特定的头文件搜索路径</li>
<li>link_directories添加非标准的共享库搜索路径  </li>
<li>target_link_libraries来为 target 添加需要链接的共享库 </li>
<li>set显式的定义变量</li>
<li>message于向终端输出用户定义的信息</li>
</ul>
<h2 id="install指令"><a href="#install指令" class="headerlink" title="install指令"></a>install指令</h2><p>将编译生成的文件分类安装到制定的目录路径。可分成好几类文件的安装命令</p>
<h2 id="官网地址"><a href="#官网地址" class="headerlink" title="官网地址"></a>官网地址</h2><p><a target="_blank" rel="noopener" href="https://cmake.org/cmake-tutorial/">link</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2018/06/28/2018-06-28-alg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Jiang Wei">
      <meta itemprop="description" content="Stay health, not be fat">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JWCESIGN">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/28/2018-06-28-alg/" class="post-title-link" itemprop="url">算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-06-28 12:00:00" itemprop="dateCreated datePublished" datetime="2018-06-28T12:00:00+08:00">2018-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-08 11:46:13" itemprop="dateModified" datetime="2020-11-08T11:46:13+08:00">2020-11-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>“基础算法”</p>
</blockquote>
<h1 id="查找算法"><a href="#查找算法" class="headerlink" title="查找算法"></a>查找算法</h1><h2 id="顺序查找"><a href="#顺序查找" class="headerlink" title="顺序查找"></a>顺序查找</h2><ul>
<li>说明：顺序查找适合于存储结构为顺序存储或链接存储的线性表。</li>
<li>基本思想：顺序查找也称为线形查找，属于无序查找算法。从数据结构线形表的一端开始，顺序扫描，依次将扫描到的结点关键字与给定值k相比较，若相等则表示查找成功；若扫描结束仍没有找到关键字等于k的结点，表示查找失败。</li>
<li>算法复杂度：查找成功时的平均查找长度为：（假设每个数据元素的概率相等） ASL = 1/n(1+2+3+…+n) = (n+1)/2 ；当查找不成功时，需要n+1次比较，时间复杂度为O(n);所以，顺序查找的时间复杂度为O(n)。</li>
<li>实现代码</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find_intvalue</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> value, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[i] == value) &#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> value = <span class="number">4</span>;</span><br><span class="line">  <span class="keyword">int</span> ind;</span><br><span class="line">  ind = find_intvalue(a, value, <span class="number">10</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ind);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h2><ul>
<li>说明：元素必须是有序的，如果是无序的则要先进行排序操作。</li>
<li>基本思想：也称为是折半查找，属于有序查找算法。</li>
<li>复杂度分析：最坏情况下，关键词比较次数为log2(n+1)，且期望时间复杂度为O(log2n)；</li>
<li>实现代码</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary_find</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> va, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> low, high, middle;</span><br><span class="line">  low = <span class="number">0</span>;</span><br><span class="line">  high = len - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">    middle = (low + high) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[middle] &gt; va) &#123;</span><br><span class="line">      high = middle+<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">array</span>[middle] == va)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> middle;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      low = middle<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">6</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> va = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">int</span> ind;</span><br><span class="line">  ind = binary_find(<span class="built_in">array</span>,va,<span class="number">6</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ind);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插值查找"><a href="#插值查找" class="headerlink" title="插值查找"></a>插值查找</h2><ul>
<li>基本思想：基于二分查找算法，将查找点的选择改进为自适应选择，可以提高查找效率。当然，差值查找也属于有序查找。</li>
<li>复杂度分析：查找成功或者失败的时间复杂度均为O(log2(log2n))。</li>
<li>实现代码</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary_find</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> va, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> low, high, middle;</span><br><span class="line">  low = <span class="number">0</span>;</span><br><span class="line">  high = len - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">float</span> tmp;</span><br><span class="line">  <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">    tmp = ((va - <span class="built_in">array</span>[low])*<span class="number">1.0</span> / (<span class="built_in">array</span>[high] - <span class="built_in">array</span>[low])) * (high - low);</span><br><span class="line">    middle = low + (<span class="keyword">int</span>)tmp;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[middle] == va)</span><br><span class="line">      <span class="keyword">return</span> middle;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[middle] &lt; va)</span><br><span class="line">      low = middle<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">array</span>[middle] &gt; va)</span><br><span class="line">      high = middle+<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">6</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> va = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">int</span> ind;</span><br><span class="line">  ind = binary_find(<span class="built_in">array</span>, va, <span class="number">6</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ind);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="斐波那契查找"><a href="#斐波那契查找" class="headerlink" title="斐波那契查找"></a>斐波那契查找</h2><ul>
<li>复杂度分析：最坏情况下，时间复杂度为O(log2n)，且其期望复杂度也为O(log2n)。</li>
<li>斐波那契查找的优点是它只涉及加法和减法运算，而不用除法，而除法比加减法要占用更多的时间，因此，斐波那契查找的运行时间理论上比折半查找小，但是还是得视具体情况而定。</li>
<li>实现代码</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> MAX_SIZE = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_fibonacci</span><span class="params">(<span class="keyword">int</span> f[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  f[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt; MAX_SIZE; i++)</span><br><span class="line">    f[i] = f[i - <span class="number">1</span>] + f[i - <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fibonacci_search</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> va, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> low, high, middle;</span><br><span class="line">  <span class="keyword">int</span> k, i;</span><br><span class="line">  <span class="keyword">int</span> tmp[MAX_SIZE];</span><br><span class="line"></span><br><span class="line">  high = len - <span class="number">1</span>;</span><br><span class="line">  k = <span class="number">0</span>;</span><br><span class="line">  low = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> F[MAX_SIZE];</span><br><span class="line">  init_fibonacci(F);</span><br><span class="line">  <span class="keyword">while</span> (len &gt; (F[k] - <span class="number">1</span>))</span><br><span class="line">    k++;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    tmp[i] = <span class="built_in">array</span>[i];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = len; i &lt; (F[k] - <span class="number">1</span>); i++)</span><br><span class="line">    tmp[i] = <span class="built_in">array</span>[high];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (low &lt;= high)</span><br><span class="line">  &#123;</span><br><span class="line">    middle = low + F[k - <span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (tmp[middle] == va)</span><br><span class="line">      <span class="keyword">if</span> (middle &lt; len)</span><br><span class="line">        <span class="keyword">return</span> middle;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> len - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (tmp[middle] &lt; va)</span><br><span class="line">    &#123; </span><br><span class="line">      low = middle + <span class="number">1</span>; </span><br><span class="line">      k -= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tmp[middle] &gt; va)</span><br><span class="line">    &#123; </span><br><span class="line">      high = middle - <span class="number">1</span>; </span><br><span class="line">      k -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">6</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> va = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">int</span> ind;</span><br><span class="line">  ind = fibonacci_search(<span class="built_in">array</span>, va, <span class="number">6</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ind);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二叉树查找"><a href="#二叉树查找" class="headerlink" title="二叉树查找"></a>二叉树查找</h2><ul>
<li>它和二分查找一样，插入和查找的时间复杂度均为O(logn)，但是在最坏的情况下仍然会有O(n)的时间复杂度。原因在于插入和删除元素的时候，树没有保持平衡（比如，我们查找上图（b）中的“93”，我们需要进行n次查找操作）。</li>
<li>基本思想：二叉查找树是先对待查找的数据进行生成树，确保树的左分支的值小于右分支的值，然后在就行和每个节点的父节点比较大小，查找最适合的范围。 这个算法的查找效率很高，但是如果使用这种查找方法要首先创建树。 </li>
<li>代码实现：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">binary_node</span>&#123;</span></span><br><span class="line">  <span class="keyword">int</span> value;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">binary_node</span>* <span class="title">left</span>;</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">binary_node</span>* <span class="title">right</span>;</span></span><br><span class="line">&#125;bin_node;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_node</span><span class="params">(bin_node* root,bin_node* child)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (child-&gt;value &gt;= root-&gt;value &amp;&amp; root-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    insert_node(root-&gt;right,child);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (child-&gt;value &lt; root-&gt;value &amp;&amp; root-&gt;left != <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    insert_node(root-&gt;left,child);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (child-&gt;value &gt;= root-&gt;value &amp;&amp; root-&gt;right == <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    root-&gt;right = child;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (child-&gt;value &lt; root-&gt;value &amp;&amp; root-&gt;left == <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    root-&gt;left = child;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create_tree</span><span class="params">(bin_node** root, <span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> i;</span><br><span class="line">  *root = (bin_node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(bin_node)); </span><br><span class="line">  (*root)-&gt;value = <span class="built_in">array</span>[<span class="number">0</span>];</span><br><span class="line">  (*root)-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">  (*root)-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;size;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    bin_node* child = (bin_node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(bin_node));</span><br><span class="line">    child-&gt;value = <span class="built_in">array</span>[i];</span><br><span class="line">    child-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">    child-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    insert_node(*root,child);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dis_node</span><span class="params">(bin_node* node)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">if</span> (node-&gt;left != <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    dis_node(node-&gt;left);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,node-&gt;value);</span><br><span class="line">  <span class="keyword">if</span> (node-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    dis_node(node-&gt;right);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">bin_node* <span class="title">search_node</span><span class="params">(bin_node* node, <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (node == <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (value == node-&gt;value)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (value &gt; node-&gt;value)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> search_node(node-&gt;right,value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (value &lt; node-&gt;value)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> search_node(node-&gt;left,value);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> <span class="built_in">array</span>[SIZE] = &#123;<span class="number">4</span>,<span class="number">1</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">345</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">21</span>&#125;;</span><br><span class="line">  bin_node* root = <span class="literal">NULL</span>;</span><br><span class="line">  bin_node* search_result = <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">int</span> search_value;</span><br><span class="line">  create_tree(&amp;root,<span class="built_in">array</span>,SIZE);</span><br><span class="line">  dis_node(root);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\nPlease input value to search:&quot;</span>);</span><br><span class="line">  <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;search_value);</span><br><span class="line">  search_result = search_node(root,search_value);</span><br><span class="line">  <span class="keyword">if</span> (search_result != <span class="literal">NULL</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Yes\n&quot;</span>)&amp;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;No\n&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-3查找树"><a href="#2-3查找树" class="headerlink" title="2-3查找树"></a>2-3查找树</h2><ul>
<li>在最好的情况下，所有的节点都是3-node节点，查找效率为log3N约等于0.631lgN</li>
<li>在最坏的情况下，也就是所有的节点都是2-node节点，查找效率为lgN</li>
<li>代码就不用实现了，因为维护代价比较大，不适用</li>
<li>原理: <a target="_blank" rel="noopener" href="https://blog.csdn.net/u014688145/article/details/67636509">link</a></li>
</ul>
<h2 id="红黑查找树"><a href="#红黑查找树" class="headerlink" title="红黑查找树"></a>红黑查找树</h2><ul>
<li>是2-3树的一种实现。</li>
<li>原理：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u014688145/article/details/68489582">link</a></li>
<li>代码实现：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RED   <span class="meta-string">&#x27;R&#x27;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BLACK <span class="meta-string">&#x27;B&#x27;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span>          key;</span><br><span class="line">    <span class="keyword">char</span>         color;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">left</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">right</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">parent</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Based on CLRS algorithm, use T_Nil as a sentinel to simplify code</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>  <span class="title">T_Nil_Node</span>;</span></span><br><span class="line">Node* T_Nil = &amp;T_Nil_Node;</span><br><span class="line"></span><br><span class="line">Node* Root = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A utility function to create a new BST node</span></span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">(<span class="keyword">int</span> key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *temp   = (Node*) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    temp-&gt;key    = key;</span><br><span class="line">    temp-&gt;color  = RED;</span><br><span class="line">    temp-&gt;left   = <span class="literal">NULL</span>;</span><br><span class="line">    temp-&gt;right  = <span class="literal">NULL</span>;</span><br><span class="line">    temp-&gt;parent = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotateLeft</span><span class="params">( Node** T, Node* x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *y  = x-&gt;right;    <span class="comment">// set y</span></span><br><span class="line">    x-&gt;right = y-&gt;left;     <span class="comment">// turn y&#x27;s left subtree into x&#x27;s right subtree&#123;</span></span><br><span class="line">    <span class="keyword">if</span> (y-&gt;left != T_Nil)</span><br><span class="line">        y-&gt;left-&gt;parent = x;</span><br><span class="line">    y-&gt;parent = x-&gt;parent;  <span class="comment">// link x&#x27;s parent to y</span></span><br><span class="line">    <span class="keyword">if</span> (x-&gt;parent == T_Nil)</span><br><span class="line">        *T = y;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (x == x-&gt;parent-&gt;left)</span><br><span class="line">        x-&gt;parent-&gt;left = y;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        x-&gt;parent-&gt;right = y;</span><br><span class="line">    y-&gt;left   = x;            <span class="comment">// put x on y&#x27;s left</span></span><br><span class="line">    x-&gt;parent = y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotateRight</span><span class="params">(Node** T, Node* y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node *x  = y-&gt;left;     <span class="comment">// set x</span></span><br><span class="line">    y-&gt;left  = x-&gt;right;    <span class="comment">// turn x&#x27;s right subtree into y&#x27;s left subtree&#123;</span></span><br><span class="line">    <span class="keyword">if</span> (x-&gt;right != T_Nil)</span><br><span class="line">        x-&gt;right-&gt;parent = y;</span><br><span class="line">    x-&gt;parent = y-&gt;parent;  <span class="comment">// link y&#x27;s parent to x</span></span><br><span class="line">    <span class="keyword">if</span> (y-&gt;parent == T_Nil)</span><br><span class="line">        *T = x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (y == y-&gt;parent-&gt;right)</span><br><span class="line">        y-&gt;parent-&gt;right = x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        y-&gt;parent-&gt;left  = x;</span><br><span class="line">    x-&gt;right  = y;         <span class="comment">// put y on x&#x27;s right</span></span><br><span class="line">    y-&gt;parent = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">redBlackInsertFixup</span><span class="params">(Node** Root, Node* New)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node* temp;</span><br><span class="line">    <span class="keyword">while</span> (New-&gt;parent-&gt;color == RED)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (New-&gt;parent == New-&gt;parent-&gt;parent-&gt;left)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = New-&gt;parent-&gt;parent-&gt;right;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;color == RED)</span><br><span class="line">            &#123;</span><br><span class="line">                New-&gt;parent-&gt;color = BLACK;</span><br><span class="line">                temp-&gt;color = BLACK;</span><br><span class="line">                New-&gt;parent-&gt;parent-&gt;color = RED;</span><br><span class="line">                New = New-&gt;parent-&gt;parent;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (New == New-&gt;parent-&gt;right)</span><br><span class="line">                &#123;</span><br><span class="line">                    New = New-&gt;parent;</span><br><span class="line">                    rotateLeft(Root, New);</span><br><span class="line">                &#125;</span><br><span class="line">                New-&gt;parent-&gt;color = BLACK;</span><br><span class="line">                New-&gt;parent-&gt;parent-&gt;color = RED;</span><br><span class="line">                rotateRight(Root, New-&gt;parent-&gt;parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp = New-&gt;parent-&gt;parent-&gt;left;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;color == RED)</span><br><span class="line">            &#123;</span><br><span class="line">                New-&gt;parent-&gt;color = BLACK;</span><br><span class="line">                New-&gt;color = BLACK;</span><br><span class="line">                New-&gt;parent-&gt;parent-&gt;color = RED;</span><br><span class="line">                New = New-&gt;parent-&gt;parent;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (New == New-&gt;parent-&gt;left)</span><br><span class="line">                &#123;</span><br><span class="line">                    New = New-&gt;parent;</span><br><span class="line">                    rotateRight(Root, New);</span><br><span class="line">                &#125;</span><br><span class="line">                New-&gt;parent-&gt;color = BLACK;</span><br><span class="line">                New-&gt;parent-&gt;parent-&gt;color = RED;</span><br><span class="line">                rotateLeft(Root, New-&gt;parent-&gt;parent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Root[<span class="number">0</span>]-&gt;color = BLACK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">redBlackInsert</span><span class="params">(Node** T, <span class="keyword">int</span> key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node* z =  newNode(key);</span><br><span class="line">    Node* y =  T_Nil;</span><br><span class="line">    Node* x = *T;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Find where to Insert new node Z into the binary search tree</span></span><br><span class="line">    <span class="keyword">while</span> (x != T_Nil) &#123;</span><br><span class="line">        y = x;</span><br><span class="line">        <span class="keyword">if</span> (z-&gt;key &lt; x-&gt;key)</span><br><span class="line">            x = x-&gt;left;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            x = x-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    z-&gt;parent = y;</span><br><span class="line">    <span class="keyword">if</span> (y == T_Nil)</span><br><span class="line">        *T = z;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (z-&gt;key &lt; y-&gt;key)</span><br><span class="line">        y-&gt;left  = z;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        y-&gt;right = z;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Init z as a red leaf</span></span><br><span class="line">    z-&gt;left  = T_Nil;</span><br><span class="line">    z-&gt;right = T_Nil;</span><br><span class="line">    z-&gt;color = RED;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Ensure the Red-Black property is maintained</span></span><br><span class="line">    redBlackInsertFixup(T, z);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX(a,b) (((a)&gt;(b))?(a):(b))</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">height</span><span class="params">(Node* Root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Root != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Root == T_Nil)</span><br><span class="line">            h = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> leftHeight  = height(Root-&gt;left);</span><br><span class="line">            <span class="keyword">int</span> rightHeight = height(Root-&gt;right);</span><br><span class="line">            h = MAX(leftHeight, rightHeight) + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printTree</span><span class="params">(Node* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;left != T_Nil)</span><br><span class="line">        printTree(root-&gt;left);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, root-&gt;key);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;right != T_Nil)</span><br><span class="line">        printTree(root-&gt;right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node* Root = T_Nil;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">list</span>[<span class="number">10</span>] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//printf(&quot;%d &quot;, list[i]);</span></span><br><span class="line">        redBlackInsert(&amp;Root, <span class="built_in">list</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    printTree(Root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="分块查找"><a href="#分块查找" class="headerlink" title="分块查找"></a>分块查找</h2><ul>
<li>分块查找又称索引顺序查找，它是顺序查找的一种改进方法。</li>
<li>算法思想：将n个数据元素”按块有序”划分为m块（m ≤ n）。每一块中的结点不必有序，但块与块之间必须”按块有序”；即第1块中任一元素的关键字都必须小于第2块中任一元素的关键字；而第2块中任一元素又都必须小于第3块中的任一元素。</li>
<li>性能在顺序查找和二分查找之间:</li>
<li>实现代码(这种方法不够自动):</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 16</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> key_type;</span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">elem</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  key_type key; <span class="comment">//关键字 </span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//索引结构 </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">index</span>         </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  key_type key; <span class="comment">//索引值 </span></span><br><span class="line">  <span class="keyword">long</span> low;     <span class="comment">//起始位置 </span></span><br><span class="line">  <span class="keyword">long</span> high;    <span class="comment">//终止位置 </span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">index_search</span><span class="params">(elem e[], key_type key, <span class="keyword">int</span> n, index idx[], <span class="keyword">int</span> idx_length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> low = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> high = idx_length - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> mid;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//采用折半查找在索引表里找到关键字所在的块</span></span><br><span class="line">  <span class="keyword">while</span>(low &lt;= high)</span><br><span class="line">  &#123;</span><br><span class="line">    mid = (low + high)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(key &lt; idx[mid].key)</span><br><span class="line">      high = mid - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(key &gt; idx[mid].key)</span><br><span class="line">      low = mid + <span class="number">1</span>;</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//采用顺序查找的方法从块中查找关键值</span></span><br><span class="line">  <span class="keyword">int</span> i = idx[mid].low;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span>(i &lt;= idx[mid].high &amp;&amp; e[i].key != key)</span><br><span class="line">  &#123;</span><br><span class="line">    i++;</span><br><span class="line">  &#125; </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(i &gt; idx[mid].high)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  elem linelist[MAX] = &#123;</span><br><span class="line">    <span class="number">8</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">17</span>,</span><br><span class="line">    <span class="number">40</span>, <span class="number">42</span>, <span class="number">45</span>, <span class="number">32</span>,</span><br><span class="line">    <span class="number">49</span>, <span class="number">58</span>, <span class="number">50</span>, <span class="number">52</span>,</span><br><span class="line">    <span class="number">67</span>, <span class="number">79</span>, <span class="number">78</span>, <span class="number">80</span></span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> n = <span class="keyword">sizeof</span>(linelist) / <span class="keyword">sizeof</span>(elem);</span><br><span class="line">  key_type key = <span class="number">50</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//建立索引表</span></span><br><span class="line">  index index_table[<span class="number">4</span>] = &#123;</span><br><span class="line">      &#123;<span class="number">20</span>,<span class="number">0</span>,<span class="number">3</span>&#125;, </span><br><span class="line">      &#123;<span class="number">45</span>,<span class="number">4</span>,<span class="number">7</span>&#125;, </span><br><span class="line">      &#123;<span class="number">58</span>,<span class="number">8</span>,<span class="number">11</span>&#125;, </span><br><span class="line">      &#123;<span class="number">80</span>,<span class="number">12</span>,<span class="number">15</span>&#125;&#125;; </span><br><span class="line">  <span class="keyword">int</span> idx_length = <span class="keyword">sizeof</span>(index_table) / <span class="keyword">sizeof</span>(index);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;线性表中的元素为：\n&quot;</span>);</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span>(i &lt; n) </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,linelist[i].key);</span><br><span class="line">    i++;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n关键字[%d]在线性表中的位置下标为[%d]&quot;</span>, key, index_search(linelist, key, n, index_table, idx_length));</span><br><span class="line">  </span><br><span class="line">  getchar();</span><br><span class="line">  system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HASH查找"><a href="#HASH查找" class="headerlink" title="HASH查找"></a>HASH查找</h2><ul>
<li>通过函数实现KV查找,用空间代替时间</li>
<li>HASH构造方法: <a target="_blank" rel="noopener" href="https://blog.csdn.net/tanggao1314/article/details/51457585">link</a></li>
</ul>
<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><h2 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h2><ul>
<li>动态规划算法的核心就是记住已经解决过的子问题的解。</li>
<li>两种方法: ①自顶向下的备忘录法 ②自底向上。</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013309870/article/details/75193592">讲解</a></li>
</ul>
<h2 id="自顶向下的备忘录法"><a href="#自顶向下的备忘录法" class="headerlink" title="自顶向下的备忘录法"></a>自顶向下的备忘录法</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> *Memo)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Memo[n]!=<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> Memo[n];</span><br><span class="line">    <span class="comment">//如果已经求出了fib（n）的值直接返回，否则将求出的值保存在Memo备忘录中。               </span></span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)</span><br><span class="line">        Memo[n]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        Memo[n]=fib( n<span class="number">-1</span>,Memo)+fib(n<span class="number">-2</span>,Memo);  </span><br><span class="line">    <span class="keyword">return</span> Memo[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Fibonacci</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="keyword">int</span> *Memo=<span class="keyword">new</span> <span class="keyword">int</span>(n+<span class="number">1</span>);        </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line">         Memo[i]=<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> fib(n, Memo);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; Fibonacci(<span class="number">6</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>备忘录法也是比较好理解的，创建了一个n+1大小的数组来保存求出的斐波拉契数列中的每一个值，在递归的时候如果发现前面fib（n）的值计算出来了就不再计算，如果未计算出来，则计算出来后保存在Memo数组中，下次在调用fib（n）的时候就不会重新递归了。比如上面的递归树中在计算fib（6）的时候先计算fib（5），调用fib（5）算出了fib（4）后，fib（6）再调用fib（4）就不会在递归fib（4）的子树了，因为fib（4）的值已经保存在Memo[4]中。</p>
<h2 id="自底向上"><a href="#自底向上" class="headerlink" title="自底向上"></a>自底向上</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> Memo_i_2=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> Memo_i_1=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> Memo_i=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    Memo_i=Memo_i_2+Memo_i_1;</span><br><span class="line">    Memo_i_2=Memo_i_1;</span><br><span class="line">    Memo_i_1=Memo_i;</span><br><span class="line">  &#125;       </span><br><span class="line">  <span class="keyword">return</span> Memo_i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一般来说由于备忘录方式的动态规划方法使用了递归，递归的时候会产生额外的开销，使用自底向上的动态规划方法要比备忘录方法好。 </p>
<h2 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h2><h3 id="钢条切割"><a href="#钢条切割" class="headerlink" title="钢条切割"></a>钢条切割</h3><ul>
<li>递归</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cut</span><span class="params">(<span class="keyword">int</span> *p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> q=<span class="number">-10</span>;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        m = cut(p,n-i);</span><br><span class="line">        <span class="keyword">if</span> (q&lt;(p[i<span class="number">-1</span>]+m))</span><br><span class="line">            q = p[i<span class="number">-1</span>]+m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p[]=&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">17</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">30</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cut(p, <span class="number">9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>把每个子最优解返回到父最优解</p>
<ul>
<li>备忘</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cut</span><span class="params">(<span class="keyword">int</span> *r, <span class="keyword">int</span> *p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> m;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (r[n<span class="number">-1</span>] != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> r[n<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        m = p[i<span class="number">-1</span>]+cut(r,p,n-i);</span><br><span class="line">        <span class="keyword">if</span> (m&gt;q)</span><br><span class="line">            q = m;</span><br><span class="line">    &#125;</span><br><span class="line">    r[n<span class="number">-1</span>] = q;</span><br><span class="line">    <span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cut_pre</span><span class="params">(<span class="keyword">int</span> *p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *r = <span class="keyword">new</span> <span class="keyword">int</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">        r[i] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> cut(r, p, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 每长度对应的价值</span></span><br><span class="line">    <span class="keyword">int</span> p[]=&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">17</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">30</span>&#125;;</span><br><span class="line">    <span class="comment">// 9为长度</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cut_pre(p, <span class="number">9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>自底向上</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cut</span><span class="params">(<span class="keyword">int</span> *p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *r = <span class="keyword">new</span> <span class="keyword">int</span>(n+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> q, m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n+<span class="number">1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        r[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        q = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            m = p[j<span class="number">-1</span>]+r[i-j];</span><br><span class="line">            <span class="keyword">if</span> (m&gt;q)</span><br><span class="line">                q = m;</span><br><span class="line">        &#125;</span><br><span class="line">        r[i] = q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 每长度对应的价值</span></span><br><span class="line">    <span class="keyword">int</span> p[]=&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">17</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">24</span>,<span class="number">30</span>&#125;;</span><br><span class="line">    <span class="comment">// 9为长度</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cut(p, <span class="number">9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过求解最优子问题来解决副问题的最优解</p>
<h2 id="在什么地方用？"><a href="#在什么地方用？" class="headerlink" title="在什么地方用？"></a>在什么地方用？</h2><h3 id="最优子结构"><a href="#最优子结构" class="headerlink" title="最优子结构"></a>最优子结构</h3><p>用动态规划求解最优化问题的第一步就是刻画最优解的结构，如果一个问题的解结构包含其子问题的最优解，就称此问题具有最优子结构性质。因此，某个问题是否适合应用动态规划算法，它是否具有最优子结构性质是一个很好的线索。使用动态规划算法时，用子问题的最优解来构造原问题的最优解。因此必须考查最优解中用到的所有子问题。</p>
<h3 id="重叠子问题"><a href="#重叠子问题" class="headerlink" title="重叠子问题"></a>重叠子问题</h3><p>在斐波拉契数列和钢条切割结构图中，可以看到大量的重叠子问题，比如说在求fib（6）的时候，fib（2）被调用了5次，在求cut（4）的时候cut（0）被调用了4次。如果使用递归算法的时候会反复的求解相同的子问题，不停的调用函数，而不是生成新的子问题。如果递归算法反复求解相同的子问题，就称为具有重叠子问题（overlapping subproblems）性质。在动态规划算法中使用数组来保存子问题的解，这样子问题多次求解的时候可以直接查表不用调用函数递归。</p>
<h2 id="动态规划的经典模型"><a href="#动态规划的经典模型" class="headerlink" title="动态规划的经典模型"></a>动态规划的经典模型</h2><h3 id="线性模型"><a href="#线性模型" class="headerlink" title="线性模型"></a>线性模型</h3><p>线性模型的是动态规划中最常用的模型，上文讲到的钢条切割问题就是经典的线性模型，这里的线性指的是状态的排布是呈线性的。</p>
<p>例：在一个夜黑风高的晚上，有n（n &lt;= 50）个小朋友在桥的这边，现在他们需要过桥，但是由于桥很窄，每次只允许不大于两人通过，他们只有一个手电筒，所以每次过桥的两个人需要把手电筒带回来，i号小朋友过桥的时间为T[i]，两个人过桥的总时间为二者中时间长者。问所有小朋友过桥的总时间最短是多少。</p>
<p><em>分析</em>:<br>我们先将所有人按花费时间递增进行排序，假设前i个人过河花费的最少时间为opt[i]，那么考虑前i-1个人过河的情况，即河这边还有1个人，河那边有i-1个人，并且这时候手电筒肯定在对岸，所以opt[i] = opt[i-1] + a[1] + a[i]        (让花费时间最少的人把手电筒送过来，然后和第i个人一起过河)<br>如果河这边还有两个人，一个是第i号，另外一个无所谓，河那边有i-2个人，并且手电筒肯定在对岸，所以opt[i] = opt[i-2] + a[1] + a[i] + 2<em>a[2]    (让花费时间最少的人把电筒送过来，然后第i个人和另外一个人一起过河，由于花费时间最少的人在这边，所以下一次送手电筒过来的一定是花费次少的，送过来后花费最少的和花费次少的一起过河，解决问题),所以 opt[i] = min{opt[i-1] + a[1] + a[i] , opt[i-2] + a[1] + a[i] + 2</em>a[2] }</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">go</span><span class="params">(<span class="keyword">int</span> *cost_time, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *r = <span class="keyword">new</span> <span class="keyword">int</span>(n);</span><br><span class="line">    <span class="keyword">int</span> m,mb;</span><br><span class="line">    r[<span class="number">0</span>] = cost_time[<span class="number">0</span>];</span><br><span class="line">    r[<span class="number">1</span>] = cost_time[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        m = r[i<span class="number">-1</span>]+cost_time[<span class="number">0</span>]+cost_time[i];</span><br><span class="line">        mb = r[i<span class="number">-2</span>]+cost_time[<span class="number">0</span>]+cost_time[i]+<span class="number">2</span>*cost_time[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (m&gt;mb)</span><br><span class="line">            r[i] = mb;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            r[i] = m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r[n<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 每个人过桥花费的时间</span></span><br><span class="line">    <span class="keyword">int</span> cost_time[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; go(cost_time,<span class="number">4</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="区间模型"><a href="#区间模型" class="headerlink" title="区间模型"></a>区间模型</h3><p>区间模型的状态表示一般为d[i][j]，表示区间[i, j]上的最优解，然后通过状态转移计算出[i+1, j]或者[i, j+1]上的最优解，逐步扩大区间的范围，最终求得[1, len]的最优解。</p>
<p>例:给定一个长度为n（n &lt;= 1000）的字符串A，求插入最少多少个字符使得它变成一个回文串。 </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cacu</span><span class="params">(<span class="keyword">char</span> *a, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> re[<span class="number">6</span>][<span class="number">6</span>])</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *a = <span class="string">&quot;cccbccc&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> re[<span class="number">6</span>][<span class="number">6</span>];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cacu(a, <span class="number">0</span>, <span class="number">6</span>, re) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cacu</span><span class="params">(<span class="keyword">char</span> *a, <span class="keyword">int</span> start, <span class="keyword">int</span> end, <span class="keyword">int</span> re[<span class="number">6</span>][<span class="number">6</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="keyword">if</span> (start+<span class="number">1</span> &gt;= end || start &gt;= end<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (a[start] == a[end])</span><br><span class="line">        <span class="keyword">return</span> cacu(a, start+<span class="number">1</span>, end<span class="number">-1</span>, re);</span><br><span class="line">    m = cacu(a, start+<span class="number">1</span>, end, re);</span><br><span class="line">    n = cacu(a, start, end<span class="number">-1</span>, re);</span><br><span class="line">    <span class="keyword">if</span> (m&gt;n)</span><br><span class="line">        re[start][end] = n+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        re[start][end] = m+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> re[start][end];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="01背包问题"><a href="#01背包问题" class="headerlink" title="01背包问题"></a>01背包问题</h3><p>给定背包的大小，给定物品的价值和重量，确定能够装下的最大价值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">15</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v[N]=&#123;<span class="number">0</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">2</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> w[N]=&#123;<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">1</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> m[N][N];</span><br><span class="line">  <span class="keyword">int</span> n=<span class="number">6</span>,c=<span class="number">12</span>;</span><br><span class="line">  <span class="built_in">memset</span>(m,<span class="number">0</span>,<span class="keyword">sizeof</span>(m));</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=c;j++)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span>(j&gt;=w[i])</span><br><span class="line">        m[i][j]=max(m[i<span class="number">-1</span>][j],m[i<span class="number">-1</span>][j-w[i]]+v[i]);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        m[i][j]=m[i<span class="number">-1</span>][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; m[n][c] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="字符串查找算法"><a href="#字符串查找算法" class="headerlink" title="字符串查找算法"></a>字符串查找算法</h2><h3 id="传统的字符串匹配算法"><a href="#传统的字符串匹配算法" class="headerlink" title="传统的字符串匹配算法:"></a>传统的字符串匹配算法:</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find</span><span class="params">(<span class="keyword">char</span> t[],<span class="keyword">char</span> p[])</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="built_in">strlen</span>(t);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">strlen</span>(p);</span><br><span class="line">    <span class="keyword">int</span> i,j,k;<span class="comment">//k:匹配串下标，j：模式串下标</span></span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>;k&lt;m;k++)&#123;</span><br><span class="line">        j = <span class="number">0</span>;</span><br><span class="line">        i = k;</span><br><span class="line">        <span class="keyword">while</span>(j&lt;n)&#123;</span><br><span class="line">            <span class="keyword">if</span>(p[j]==t[i])&#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j==n)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;在%d处匹配\n&quot;</span>,k);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="KMP算法"><a href="#KMP算法" class="headerlink" title="KMP算法"></a><em>KMP</em>算法</h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html">详解</a></li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kmp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;T, <span class="keyword">const</span> <span class="built_in">string</span> &amp;P)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (P.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">pi</span><span class="params">(P.size(), <span class="number">0</span>)</span></span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;---&quot;</span> &lt;&lt; pi.size() &lt;&lt; <span class="string">&quot;---&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, k = <span class="number">0</span>; i &lt; P.size(); ++i) &#123;</span><br><span class="line">    <span class="keyword">while</span> (k &amp;&amp; P[k] != P[i]) k = pi[k - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (P[k] == P[i]) ++k;</span><br><span class="line">    pi[i] = k;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pi.size();i++)</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; pi[i];</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, k = <span class="number">0</span>; i &lt; T.size(); ++i) &#123;</span><br><span class="line">    <span class="keyword">while</span> (k &amp;&amp; P[k] != T[i]) k = pi[k - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (P[k] == T[i]) ++k;</span><br><span class="line">    <span class="keyword">if</span> (k == P.size()) <span class="keyword">return</span> i - k + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">string</span> T = <span class="string">&quot;abcdefgadbcabcd&quot;</span>;</span><br><span class="line">  <span class="built_in">string</span> P = <span class="string">&quot;ccadaddd&quot;</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; kmp(T, P);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jiang Wei"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">Jiang Wei</p>
  <div class="site-description" itemprop="description">Stay health, not be fat</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">[object Object]</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
